# INSTRUCCIONES PARA COMPLETAR LAS VISTAS RESTANTES DEL SISTEMA DE REPORTES RRHH

## CONTEXTO DEL PROYECTO
- Sistema de Papeletas Digitales en Laravel 12
- Ya implementado: HRReportsController.php con 10 m√©todos de reportes
- Ya creadas: 6 vistas principales (dashboard, requests-by-status, requests-by-type, requests-by-department, real-time-tracking, approval-times)
- Faltan crear: 4 vistas adicionales
- Patr√≥n de componentes: <x-app-layout> con <x-slot name="header">
- Exportaci√≥n Excel: Ya configurada con Maatwebsite/Excel
- Gr√°ficos: Chart.js
- Estilos: Tailwind CSS

## VISTAS RESTANTES A CREAR

### 1. VISTA: absenteeism.blade.php
**Ubicaci√≥n:** resources/views/hr/reports/absenteeism.blade.php

**Estructura del componente:**
```php
<x-app-layout>
    <x-slot name="header">
        <h2 class="font-semibold text-xl text-gray-800 leading-tight">
            üìÖ Reporte de Ausentismo
        </h2>
        <p class="mt-1 text-gray-600">An√°lisis de horas utilizadas vs planificadas</p>
    </x-slot>

    <div class="py-12">
        <div class="max-w-7xl mx-auto sm:px-6 lg:px-8">
            <!-- CONTENIDO AQU√ç -->
        </div>
    </div>

    @push('scripts')
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
        // SCRIPTS AQU√ç
    </script>
    @endpush
</x-app-layout>
```

**Variables disponibles del controlador:**
- $data: Collection con datos de empleados y horas
- $summary: Array con resumen estad√≠stico
- $chartData: Array para gr√°ficos
- $dateFrom, $dateTo: Fechas de filtro

**Elementos a incluir:**
- Filtros por fecha
- 4 cards de estad√≠sticas (total_hours_used, total_permissions, avg_hours_per_permission, by_department)
- Gr√°fico de barras por departamento (horas utilizadas)
- Tabla detallada de empleados con horas
- Secci√≥n de insights/recomendaciones

### 2. VISTA: active-employees.blade.php
**Ubicaci√≥n:** resources/views/hr/reports/active-employees.blade.php

**Variables disponibles:**
- $data: Collection de empleados m√°s activos
- $chartData: Datos para gr√°fico
- $dateFrom, $dateTo: Fechas

**Elementos incluir:**
- Header con breadcrumbs
- Filtros de fecha
- Cards de estad√≠sticas (total empleados activos, promedio solicitudes)
- Gr√°fico horizontal de Top 10 empleados
- Tabla ranking completo de empleados
- Sistema de export Excel

### 3. VISTA: supervisor-performance.blade.php
**Ubicaci√≥n:** resources/views/hr/reports/supervisor-performance.blade.php

**Variables disponibles:**
- $data: Collection de supervisores con m√©tricas de rendimiento
- $dateFrom, $dateTo: Fechas

**Elementos incluir:**
- Cards con KPIs de supervisores
- Gr√°fico de tasa de aprobaci√≥n por supervisor
- Tabla con m√©tricas detalladas: total_approvals, approved, rejected, pending, approval_rate, avg_approval_time_hours
- Secci√≥n de reconocimientos (mejores supervisores)

### 4. VISTA: temporal-trends.blade.php
**Ubicaci√≥n:** resources/views/hr/reports/temporal-trends.blade.php

**Variables disponibles:**
- $data: Collection con datos temporales
- $chartData: Array con datasets para l√≠neas temporales
- $year: A√±o seleccionado
- $type: Tipo de per√≠odo (monthly/weekly)

**Elementos incluir:**
- Filtros por a√±o y tipo de per√≠odo
- Gr√°fico de l√≠neas m√∫ltiples (total, aprobadas, rechazadas)
- Cards con tendencias (crecimiento, picos)
- Tabla mensual/semanal
- Predicciones o proyecciones

### 5. VISTA: compliance.blade.php
**Ubicaci√≥n:** resources/views/hr/reports/compliance.blade.php

**Variables disponibles:**
- $data: Collection con an√°lisis de cumplimiento por tipo de permiso
- $dateFrom, $dateTo: Fechas

**Elementos incluir:**
- Cards de m√©tricas de cumplimiento general
- Lista de tipos de permisos con violation_details
- Alertas de violaciones cr√≠ticas
- Gr√°fico de compliance_rate por tipo
- Recomendaciones de mejora

## PATRONES DE DISE√ëO A SEGUIR

### ESTRUCTURA DE CARDS ESTAD√çSTICAS:
```html
<div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
    <div class="bg-white rounded-xl shadow-sm p-6 border border-blue-100">
        <div class="flex items-center">
            <div class="flex-shrink-0">
                <div class="w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center">
                    <span class="text-2xl">üìä</span>
                </div>
            </div>
            <div class="ml-4">
                <p class="text-sm font-medium text-gray-600">T√≠tulo</p>
                <p class="text-3xl font-bold text-blue-600">{{ $valor }}</p>
                <p class="text-sm text-gray-500">Descripci√≥n</p>
            </div>
        </div>
    </div>
</div>
```

### ESTRUCTURA DE FILTROS:
```html
<div class="mb-8">
    <div class="bg-white rounded-lg shadow-sm p-6">
        <h3 class="text-lg font-semibold text-gray-900 mb-4">üîç Filtros</h3>
        <form method="GET" class="grid grid-cols-1 md:grid-cols-4 gap-4">
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Fecha Desde</label>
                <input type="date" name="date_from" value="{{ $dateFrom }}" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Fecha Hasta</label>
                <input type="date" name="date_to" value="{{ $dateTo }}" 
                       class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div class="md:col-span-2 flex items-end">
                <button type="submit" class="w-full md:w-auto px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                    Aplicar Filtros
                </button>
            </div>
        </form>
    </div>
</div>
```

### ESTRUCTURA DE GR√ÅFICOS:
```html
<div class="bg-white rounded-xl shadow-sm p-6">
    <h3 class="text-lg font-semibold text-gray-900 mb-4">üìä T√≠tulo del Gr√°fico</h3>
    <div class="h-80">
        <canvas id="nombreChart"></canvas>
    </div>
</div>
```

### ESTRUCTURA DE TABLAS:
```html
<div class="bg-white rounded-xl shadow-sm overflow-hidden">
    <div class="px-6 py-4 border-b border-gray-200">
        <h3 class="text-lg font-semibold text-gray-900">üìã T√≠tulo de Tabla</h3>
    </div>
    <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Columna</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                @foreach($data as $item)
                <tr class="hover:bg-gray-50">
                    <td class="px-6 py-4 whitespace-nowrap">{{ $item->valor }}</td>
                </tr>
                @endforeach
            </tbody>
        </table>
    </div>
</div>
```

### FUNCIONES JAVASCRIPT EST√ÅNDAR:
```javascript
function exportToExcel() {
    const params = new URLSearchParams(window.location.search);
    params.set('type', 'nombre_del_reporte');
    window.location.href = '{{ route("hr.reports.export") }}?' + params.toString();
}

function refreshData() {
    location.reload();
}
```

## CONFIGURACI√ìN DE CHART.JS

### Gr√°fico de Barras:
```javascript
new Chart(ctx, {
    type: 'bar',
    data: {
        labels: chartData.labels,
        datasets: [{
            data: chartData.data,
            backgroundColor: chartData.colors
        }]
    },
    options: {
        responsive: true,
        maintainAspectRatio: false
    }
});
```

### Gr√°fico de L√≠neas:
```javascript
new Chart(ctx, {
    type: 'line',
    data: {
        labels: chartData.labels,
        datasets: chartData.datasets
    },
    options: {
        responsive: true,
        maintainAspectRatio: false
    }
});
```

## COLORES EST√ÅNDAR DEL SISTEMA:
- Azul: #3b82f6 (primario)
- Verde: #22c55e (√©xito/aprobado)
- Rojo: #ef4444 (error/rechazado)
- Amarillo: #eab308 (advertencia/pendiente)
- P√∫rpura: #8b5cf6 (informaci√≥n)
- Gris: #6b7280 (neutro)

## ICONOS EMOJI RECOMENDADOS:
- üìÖ Ausentismo
- üë• Empleados activos
- üëî Supervisores
- üìà Tendencias temporales
- ‚úì Cumplimiento
- üìä Gr√°ficos/estad√≠sticas
- üîç Filtros
- üìã Tablas/listas

## RUTAS YA CONFIGURADAS:
- hr.reports.absenteeism
- hr.reports.active-employees  
- hr.reports.supervisor-performance
- hr.reports.temporal-trends
- hr.reports.compliance

## EXPORTACI√ìN EXCEL:
Todas las vistas deben incluir bot√≥n de exportaci√≥n que llame a la funci√≥n exportToExcel() con el tipo correcto de reporte.

## RESPONSIVIDAD:
- Usar grid responsive: grid-cols-1 md:grid-cols-2 lg:grid-cols-4
- Cards adaptables en mobile
- Tablas con overflow-x-auto
- Botones que se apilen en mobile: flex-col sm:flex-row

## CONSIDERACIONES ADICIONALES:
1. Todas las vistas deben ser consistentes con el dise√±o existente
2. Incluir breadcrumbs de navegaci√≥n
3. Mantener el patr√≥n de colores y espaciado
4. Agregar loading states donde sea apropiado
5. Incluir mensajes cuando no hay datos
6. Validar que todos los datos existan antes de mostrarlos